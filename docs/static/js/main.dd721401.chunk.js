(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,n){e.exports=n.p+"static/media/logo.c2b42dd0.png"},159:function(e,t,n){e.exports=n(368)},198:function(e,t,n){},207:function(e,t,n){},208:function(e,t,n){},209:function(e,t,n){},269:function(e,t,n){},339:function(e,t,n){},345:function(e,t,n){},354:function(e,t,n){},355:function(e,t,n){},356:function(e,t,n){},359:function(e,t,n){},360:function(e,t,n){},362:function(e,t,n){},364:function(e,t,n){},365:function(e,t,n){},366:function(e,t,n){},367:function(e,t,n){},368:function(e,t,n){"use strict";n.r(t);n(160);var a=n(0),l=n.n(a),o=n(24),r=n.n(o),i=(n(197),n(45)),c=n(33),s=n(18),d=n(19),h=n(21),u=n(20),k=n(22),m=n(5),f=n(62),b=(n(198),function(e){var t=e.characters,n=e.url;return l.a.createElement(f.b,{to:n,className:"menuItem"},t)}),p=n(149),v=n.n(p),g=(n(207),function(){return l.a.createElement("img",{src:v.a,alt:"logo",className:"logo"})}),E=(n(208),function(){return l.a.createElement("header",{className:"appHeader"},l.a.createElement(g,null),l.a.createElement(b,{url:"/",characters:"Books"}),l.a.createElement(b,{url:"/config",characters:"Configuration"}))}),B=n(16),G=n.n(B),O=n(32),y=n.n(O),w=n(46),j=n.n(w),D=n(49),A=n.n(D),N=n(48),C=n.n(N),S=n(47),L=n.n(S),M=n(152),x=n.n(M),T=n(150),F=n.n(T),W=(n(209),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).handleDeleteGenre=n.handleDeleteGenre.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"handleDeleteGenre",value:function(e){var t=this.props,n=t.handleDeleteGenre,a=t.selectBook,l=[];a.genres.map(function(t,n){return t!==e.target.id&&l.push(t),a}),n(a.id,l)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectBook,a=t.editOption;return l.a.createElement("div",{className:"genreListWrap"},l.a.createElement("span",{className:"listGenreTittle"},"List of genres: "),l.a.createElement("ul",{className:"genreList"},n.genres.map(function(t){return!0===a?l.a.createElement("li",{id:t,key:t,value:t,className:"genreListObject"},t,l.a.createElement(F.a,{id:t,style:{fontSize:15},className:"closeButton",onClick:e.handleDeleteGenre})):l.a.createElement("li",{id:t,key:t,value:t,className:"genreListObject"},t)})))}}]),t}(a.Component)),P=(n(269),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={visibleAddGenre:!1},n.handleAddGenre=n.handleAddGenre.bind(Object(m.a)(Object(m.a)(n))),n.showNewGenre=n.showNewGenre.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"handleAddGenre",value:function(e){var t=this.props,n=t.handleAddGenre,a=t.selectBook;"Enter"===e.key&&(-1===this.isGenreExist(e.target.value)&&(e.preventDefault(),e.stopPropagation(),n(e.target.value,a.id)),this.hideNewGenre())}},{key:"isGenreExist",value:function(e){return this.props.selectBook.genres.indexOf(e)}},{key:"showNewGenre",value:function(){this.setState({visibleAddGenre:!0})}},{key:"hideNewGenre",value:function(){this.setState({visibleAddGenre:!1})}},{key:"render",value:function(){return l.a.createElement("ul",{className:"genreListWrap"},l.a.createElement("li",{className:"genreAddList"},!0===this.state.visibleAddGenre?l.a.createElement(y.a,{id:"newGenre",label:"New genre",name:"newGenre",onKeyDown:this.handleAddGenre,margin:"normal"}):l.a.createElement(G.a,{variant:"outlined",color:"primary",onClick:this.showNewGenre}," ","+"," ")))}}]),t}(a.Component)),U=(n(339),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,genresValue:[],newBookData:{tittle:"",price:"",genres:[]}},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.handleBookAdd=n.handleBookAdd.bind(Object(m.a)(Object(m.a)(n))),n.handleDeleteGenre=n.handleDeleteGenre.bind(Object(m.a)(Object(m.a)(n))),n.handleAddNewGenre=n.handleAddNewGenre.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"handleBookAdd",value:function(e){(0,this.props.handleNewBook)(this.state.newBookData),this.handleClose()}},{key:"handleAddNewGenre",value:function(e){this.setState(function(t){return{newBookData:Object(c.a)({},t.newBookData,{genres:t.newBookData.genres.concat(e)})}})}},{key:"handleDeleteGenre",value:function(e,t){this.setState(function(e){return{newBookData:Object(c.a)({},e.newBookData,{genres:t})}})}},{key:"updateInputValue",value:function(e){var t=this.state.newBookData;this.setState({newBookData:Object(c.a)({},t,Object(i.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement(G.a,{variant:"contained",color:"primary",className:"addButton",onClick:this.handleClickOpen},"Add book",l.a.createElement(x.a,null)),l.a.createElement(j.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(L.a,{id:"form-dialog-title"},"Add new book"),l.a.createElement(C.a,null,l.a.createElement(y.a,{id:"tittle",label:"Tittle",name:"tittle",value:this.state.newBookData.tittle,onChange:function(t){return e.updateInputValue(t)},margin:"normal",fullWidth:!0}),l.a.createElement(y.a,{id:"price",label:"Price",name:"price",value:this.state.newBookData.value,onChange:function(t){return e.updateInputValue(t)},margin:"normal",fullWidth:!0}),l.a.createElement(W,{selectBook:this.state.newBookData,handleAddGenre:this.handleAddNewGenre,handleDeleteGenre:this.handleDeleteGenre,editOption:!0}),l.a.createElement(P,{selectBook:this.state.newBookData,handleAddGenre:this.handleAddNewGenre,genres:this.state.newBookData.genres})),l.a.createElement(A.a,null,l.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:this.handleClose},"Cancel"),l.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.handleBookAdd},"Add"))))}}]),t}(a.Component)),V=n(153),I=n.n(V),H=n(154),R=n.n(H),Y=(n(345),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).checkGenre=n.checkGenre.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"checkGenre",value:function(e){(0,this.props.handleSelectGenre)(e.currentTarget)}},{key:"render",value:function(){var e=this.props,t=e.genre,n=e.genresFiltered;return l.a.createElement(I.a,{control:l.a.createElement(R.a,{checked:n.indexOf(t)>-1,onChange:this.checkGenre,value:t,color:"primary"}),label:t})}}]),t}(a.Component)),J=(n(354),function(e){var t=e.genresFiltered,n=e.genres,a=e.handleSelectGenre;return l.a.createElement("section",null,l.a.createElement("ul",null,n.map(function(e){return l.a.createElement("li",{key:e,className:"listGenres"},l.a.createElement(Y,{key:e,genresFiltered:t,handleSelectGenre:a,genre:e}))})))}),z=n(155),K=n.n(z),Q=(n(355),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,visibleView:!1},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.onBookUpdate=n.onBookUpdate.bind(Object(m.a)(Object(m.a)(n))),n.deleteThisBook=n.deleteThisBook.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"deleteThisBook",value:function(){var e=this.props;(0,e.handleDeleteBook)(e.bookSelected.id)}},{key:"onBookUpdate",value:function(e){var t=this.props,n=t.bookSelected;(0,t.handleModifyBook)(e.currentTarget.name,n,e.currentTarget.value)}},{key:"showNewGenre",value:function(){this.setState({visibleView:!0})}},{key:"hideNewGenre",value:function(){this.setState({visibleView:!1})}},{key:"render",value:function(){var e=this.props,t=e.bookSelected,n=e.handleDeleteGenre,a=e.handleAddGenre,o=e.genres;return l.a.createElement("div",{className:"editButton"},l.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.handleClickOpen},l.a.createElement(K.a,null)),l.a.createElement(j.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(L.a,{id:"form-dialog-title"},"Modify Book"),l.a.createElement(C.a,null,l.a.createElement(y.a,{id:"tittle",label:"Tittle",name:"tittle",value:t.tittle,onChange:this.onBookUpdate,margin:"normal",fullWidth:!0}),l.a.createElement(y.a,{id:"price",label:"Price",name:"price",value:t.price,onChange:this.onBookUpdate,margin:"normal",fullWidth:!0}),l.a.createElement(W,{selectBook:t,handleDeleteGenre:n,handleAddGenre:a,editOption:!0}),l.a.createElement(P,{handleAddGenre:a,selectBook:t,genres:o})),l.a.createElement(A.a,null,l.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:this.deleteThisBook,id:t.id},"Delete Book"),l.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.handleClose},"Accept"))))}}]),t}(a.Component)),$=n(51),q=n.n($),X=(n(356),function(e){var t=e.book,n=e.handleModifyBook,a=e.handleDeleteBook,o=e.handleDeleteGenre,r=e.handleAddGenre,i=e.genres;return l.a.createElement("li",{key:t.id,className:"bookCard"},l.a.createElement(q.a,{container:!0,spacing:24},l.a.createElement(q.a,{item:!0,xs:12,className:"bookRightContainer"},l.a.createElement("h1",{className:"bookTittle"},t.tittle),l.a.createElement("h2",{className:"bookPrice"},t.price,"\u20ac"),l.a.createElement(W,{selectBook:t,handleDeleteGenre:o,editOption:!1}),l.a.createElement(Q,{handleDeleteBook:a,bookSelected:t,handleAddGenre:r,handleModifyBook:n,handleDeleteGenre:o,genres:i}))))}),Z=(n(359),function(e){var t=e.books,n=e.genres,a=e.handleAddGenre,o=e.handleDeleteBook,r=e.handleModifyBook,i=e.handleDeleteGenre;return l.a.createElement("section",null,l.a.createElement("ul",null,t.map(function(e){return l.a.createElement(X,{key:e.id,book:e,handleAddGenre:a,handleDeleteBook:o,handleModifyBook:r,handleDeleteGenre:i,genres:n})})))}),_=n(156),ee=n.n(_),te=(n(360),function(e){var t=e.isLoaded,n=e.books,a=e.genresFiltered,o=e.handleNewBook,r=e.genres,i=e.handleSelectGenre,c=e.handleDeleteBook,s=e.handleModifyBook,d=e.handleDeleteGenre,h=e.handleAddGenre;return l.a.createElement("section",null,!0===t?l.a.createElement("div",null,l.a.createElement(J,{genresFiltered:a,genres:r,handleSelectGenre:i}),l.a.createElement(Z,{books:n,handleAddGenre:h,handleDeleteBook:c,handleModifyBook:s,handleDeleteGenre:d,genres:r}),l.a.createElement(U,{handleNewBook:o,handleDeleteGenre:d})):l.a.createElement(ee.a,{className:"loadDataSpiner",color:"secondary"}))}),ne=n(158),ae=n.n(ne),le=n(157),oe=n.n(le),re=(n(362),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={open:!1,visibleView:!1},n.handleClickOpen=function(){n.setState({open:!0})},n.handleClose=function(){n.setState({open:!1})},n.handleDeleteAllBook=n.handleDeleteAllBook.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"handleDeleteAllBook",value:function(){var e=this.props.handleDeleteAllBook;e(),this.handleClose()}},{key:"render",value:function(){return l.a.createElement("div",{className:"deleteAllWrap"},l.a.createElement("span",null,"Delete all boks: "),l.a.createElement(G.a,{variant:"contained",color:"secondary",onClick:this.handleClickOpen},l.a.createElement("span",null,"Delete")," ",l.a.createElement(oe.a,null)),l.a.createElement(j.a,{open:this.state.open,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},l.a.createElement(L.a,{id:"form-dialog-title"},"Delete all books"),l.a.createElement(C.a,null,l.a.createElement(ae.a,null,"Your books will be permanently deleted. You won't be able to retrieve anything you've added.")),l.a.createElement(A.a,null,l.a.createElement(G.a,{onClick:this.handleDeleteAllBook,variant:"contained",color:"secondary"},"Delete"),l.a.createElement(G.a,{variant:"contained",color:"primary",onClick:this.handleClose},"Cancel"))))}}]),t}(l.a.Component)),ie=(n(364),function(e){var t=e.handleDeleteAllBook;return l.a.createElement(q.a,{container:!0},l.a.createElement(q.a,{item:!0,xs:12},l.a.createElement(re,{handleDeleteAllBook:t}),l.a.createElement(G.a,{className:"buttonLink",variant:"contained",href:"https://www.linkedin.com/in/manuelsc/"},"My Linkedin"),l.a.createElement(G.a,{className:"buttonLink",variant:"contained",href:"https://github.com/ManuQuery/React-Book-Catalog"},"My GitHub")))}),ce=n(37),se=(n(365),function(e){var t=e.books,n=e.genres,a=e.genresFiltered,o=e.handleDeleteBook,r=e.handleModifyBook,i=e.handleNewBook,c=e.handleDeleteGenre,s=e.handleAddGenre,d=e.handleSelectGenre,h=e.handleDeleteAllBook,u=e.isLoaded;return l.a.createElement("main",{className:"appMain"},l.a.createElement(ce.c,null,l.a.createElement(ce.a,{exact:!0,path:"/",render:function(){return l.a.createElement(te,{genresFiltered:a,books:t,genres:n,handleAddGenre:s,handleDeleteBook:o,handleModifyBook:r,handleDeleteGenre:c,handleSelectGenre:d,handleNewBook:i,isLoaded:u})}}),l.a.createElement(ce.a,{path:"/config",render:function(){return l.a.createElement(ie,{handleDeleteAllBook:h})}})))}),de=[{tittle:"One Hundred Years of Solitude",genres:["Fiction","Novel"],id:0,price:"20"},{tittle:"The Picture of Dorian Gray",genres:["Fiction","Horror"],id:1,price:"12"},{tittle:"The Hitchhiker's Guide to the Galaxy",genres:["The true","Number 42"],id:2,price:"42"},{tittle:"The Little Prince",genres:["Novel","Drama","Poem"],id:3,price:"23"}],he=(n(366),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(h.a)(this,Object(u.a)(t).call(this,e))).state={books:de,genres:[],genresFiltered:[],isLoaded:!1},n.handleDeleteBook=n.handleDeleteBook.bind(Object(m.a)(Object(m.a)(n))),n.handleModifyBook=n.handleModifyBook.bind(Object(m.a)(Object(m.a)(n))),n.handleNewBook=n.handleNewBook.bind(Object(m.a)(Object(m.a)(n))),n.handleDeleteGenre=n.handleDeleteGenre.bind(Object(m.a)(Object(m.a)(n))),n.handleAddGenre=n.handleAddGenre.bind(Object(m.a)(Object(m.a)(n))),n.handleSelectGenre=n.handleSelectGenre.bind(Object(m.a)(Object(m.a)(n))),n.handleDeleteAllBook=n.handleDeleteAllBook.bind(Object(m.a)(Object(m.a)(n))),n}return Object(k.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getGenres(),setTimeout(function(){this.setState(function(e){return{isLoaded:!0}})}.bind(this),2e3)}},{key:"getGenres",value:function(){var e=[];de.map(function(t){return t.genres.map(function(t){return-1===e.indexOf(t)&&e.push(t),e})}),this.setState(function(t){return{genres:e}})}},{key:"handleSelectGenre",value:function(e){var t=e.checked,n=e.value,a=this.state.genresFiltered;if(t)a.push(n);else{var l=a.indexOf(n);-1!==l&&a.splice(l,1)}this.setState(function(e){return{genresFiltered:a}})}},{key:"getBookList",value:function(){var e=this.state,t=e.books,n=e.genresFiltered,a=[],l=!0,o=!1,r=void 0;try{for(var i,c=t[Symbol.iterator]();!(l=(i=c.next()).done);l=!0){var s=i.value;!0===s.genres.some(function(e){return n.indexOf(e)>=0})&&a.push(s)}}catch(d){o=!0,r=d}finally{try{l||null==c.return||c.return()}finally{if(o)throw r}}return 0!==a.length?a:t}},{key:"handleDeleteAllBook",value:function(){this.setState({books:[]})}},{key:"handleModifyBook",value:function(e,t,n){this.setState(function(a){return{books:a.books.map(function(a,l){return a.id===t.id&&(a=Object(c.a)({},a,Object(i.a)({},e,n))),a})}})}},{key:"handleAddGenre",value:function(e,t){var n=this;this.setState(function(a){return{books:a.books.map(function(n,a){return n.id===t&&(n=Object(c.a)({},n,{genres:n.genres.concat(e)})),n}),genres:-1===n.isGenreExist(e)?a.genres.concat(e):a.genres}})}},{key:"isGenreExist",value:function(e){return this.state.genres.indexOf(e)}},{key:"handleNewBook",value:function(e){var t=this,n=this.state.genres;e.genres.map(function(e){return-1===t.isGenreExist(e)&&n.push(e),e}),e.id=0!==this.state.books.length?this.state.books[this.state.books.length-1].id+1:0,this.setState(function(t){return{books:t.books.concat(e),genres:n}})}},{key:"handleDeleteGenre",value:function(e,t){this.setState(function(n){return{books:n.books.map(function(n,a){return n.id===e&&(n=Object(c.a)({},n,{genres:t})),n})}})}},{key:"handleDeleteBook",value:function(e){this.setState(function(t){return{books:t.books.filter(function(t){return t.id!==parseInt(e)})}})}},{key:"render",value:function(){var e=this.state,t=e.genres,n=e.genresFiltered,a=e.isLoaded;return l.a.createElement("div",{className:"App"},l.a.createElement(E,null),l.a.createElement(se,{books:this.getBookList(),genres:t,genresFiltered:n,handleSelectGenre:this.handleSelectGenre,handleAddGenre:this.handleAddGenre,handleDeleteBook:this.handleDeleteBook,handleModifyBook:this.handleModifyBook,handleDeleteGenre:this.handleDeleteGenre,handleNewBook:this.handleNewBook,handleDeleteAllBook:this.handleDeleteAllBook,isLoaded:a}))}}]),t}(a.Component)),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ke(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}n(367);r.a.render(l.a.createElement(f.a,null,l.a.createElement(he,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat(".","/service-worker.js");ue?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ke(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):ke(t,e)})}}()}},[[159,1,2]]]);
//# sourceMappingURL=main.dd721401.chunk.js.map